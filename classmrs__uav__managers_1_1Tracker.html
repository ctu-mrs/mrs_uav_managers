<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mrs_uav_managers: mrs_uav_managers::Tracker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mrs_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">mrs_uav_managers
   </div>
   <div id="projectbrief">Various reusable classes, functions and utilities for use in MRS projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classmrs__uav__managers_1_1Tracker.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmrs__uav__managers_1_1Tracker-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mrs_uav_managers::Tracker Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a816abfb94a23ac62cbc9b39a4e122b8a" id="r_a816abfb94a23ac62cbc9b39a4e122b8a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a816abfb94a23ac62cbc9b39a4e122b8a">initialize</a> (const rclcpp::Node::SharedPtr &amp;node, std::shared_ptr&lt; <a class="el" href="structmrs__uav__managers_1_1control__manager_1_1CommonHandlers__t.html">mrs_uav_managers::control_manager::CommonHandlers_t</a> &gt; common_handlers, std::shared_ptr&lt; <a class="el" href="structmrs__uav__managers_1_1control__manager_1_1PrivateHandlers__t.html">mrs_uav_managers::control_manager::PrivateHandlers_t</a> &gt; private_handlers)=0</td></tr>
<tr class="memdesc:a816abfb94a23ac62cbc9b39a4e122b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is called once for every tracker. The runtime is not limited.  <br /></td></tr>
<tr class="separator:a816abfb94a23ac62cbc9b39a4e122b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c79b5666de3c809ae1a2a745fdfa610" id="r_a8c79b5666de3c809ae1a2a745fdfa610"><td class="memItemLeft" align="right" valign="top"><a id="a8c79b5666de3c809ae1a2a745fdfa610" name="a8c79b5666de3c809ae1a2a745fdfa610"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> (void)=0</td></tr>
<tr class="separator:a8c79b5666de3c809ae1a2a745fdfa610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df1428fcef8ff35ba9c495aa5b682c0" id="r_a2df1428fcef8ff35ba9c495aa5b682c0"><td class="memItemLeft" align="right" valign="top">virtual std::tuple&lt; bool, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a2df1428fcef8ff35ba9c495aa5b682c0">activate</a> (const std::optional&lt; mrs_msgs::msg::TrackerCommand &gt; &amp;last_tracker_cmd)=0</td></tr>
<tr class="memdesc:a2df1428fcef8ff35ba9c495aa5b682c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is called before the trackers output will be required and used. Should not take much time (within miliseconds).  <br /></td></tr>
<tr class="separator:a2df1428fcef8ff35ba9c495aa5b682c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5714a73c1d2f781467981b9c9ceb03d" id="r_ad5714a73c1d2f781467981b9c9ceb03d"><td class="memItemLeft" align="right" valign="top"><a id="ad5714a73c1d2f781467981b9c9ceb03d" name="ad5714a73c1d2f781467981b9c9ceb03d"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>deactivate</b> (void)=0</td></tr>
<tr class="memdesc:ad5714a73c1d2f781467981b9c9ceb03d"><td class="mdescLeft">&#160;</td><td class="mdescRight">is called when this trackers output is no longer needed. However, it can be activated later. <br /></td></tr>
<tr class="separator:ad5714a73c1d2f781467981b9c9ceb03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c88b4eeabe95733571caaffdedcc34" id="r_a75c88b4eeabe95733571caaffdedcc34"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a75c88b4eeabe95733571caaffdedcc34">switchOdometrySource</a> (const mrs_msgs::msg::UavState &amp;new_uav_state)=0</td></tr>
<tr class="memdesc:a75c88b4eeabe95733571caaffdedcc34"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is called during every switch of reference frames of the UAV state estimate. The tracker should recalculate its internal states from old the frame to the new one.  <br /></td></tr>
<tr class="separator:a75c88b4eeabe95733571caaffdedcc34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747c8f22af56c28ef077ca48730370b2" id="r_a747c8f22af56c28ef077ca48730370b2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a747c8f22af56c28ef077ca48730370b2">resetStatic</a> (void)=0</td></tr>
<tr class="memdesc:a747c8f22af56c28ef077ca48730370b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for reseting the tracker's states given the UAV is static.  <br /></td></tr>
<tr class="separator:a747c8f22af56c28ef077ca48730370b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08141a29899f376b9ce149b9461d6c2c" id="r_a08141a29899f376b9ce149b9461d6c2c"><td class="memItemLeft" align="right" valign="top">virtual std::optional&lt; mrs_msgs::msg::TrackerCommand &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a08141a29899f376b9ce149b9461d6c2c">update</a> (const mrs_msgs::msg::UavState &amp;uav_state, const <a class="el" href="structmrs__uav__managers_1_1Controller_1_1ControlOutput.html">Controller::ControlOutput</a> &amp;last_control_output)=0</td></tr>
<tr class="memdesc:a08141a29899f376b9ce149b9461d6c2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The most important routine. It is called with every state estimator update and it should produce a new reference for the controllers. The run time should be as short as possible (&lt;= 1 ms).  <br /></td></tr>
<tr class="separator:a08141a29899f376b9ce149b9461d6c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac220afae062c5f6e394ee314cfd51e69" id="r_ac220afae062c5f6e394ee314cfd51e69"><td class="memItemLeft" align="right" valign="top">virtual const mrs_msgs::msg::TrackerStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#ac220afae062c5f6e394ee314cfd51e69">getStatus</a> ()=0</td></tr>
<tr class="memdesc:ac220afae062c5f6e394ee314cfd51e69"><td class="mdescLeft">&#160;</td><td class="mdescRight">A request for the tracker's status.  <br /></td></tr>
<tr class="separator:ac220afae062c5f6e394ee314cfd51e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6972c0a72eecf3754bc845a6a0e39c17" id="r_a6972c0a72eecf3754bc845a6a0e39c17"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; mrs_msgs::srv::ReferenceSrv::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a6972c0a72eecf3754bc845a6a0e39c17">setReference</a> (const std::shared_ptr&lt; mrs_msgs::srv::ReferenceSrv::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:a6972c0a72eecf3754bc845a6a0e39c17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for a flight to a given coordinates.  <br /></td></tr>
<tr class="separator:a6972c0a72eecf3754bc845a6a0e39c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1130d137b28d916ed3a8e296d48abd9" id="r_aa1130d137b28d916ed3a8e296d48abd9"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; mrs_msgs::srv::VelocityReferenceSrv::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#aa1130d137b28d916ed3a8e296d48abd9">setVelocityReference</a> (const std::shared_ptr&lt; mrs_msgs::srv::VelocityReferenceSrv::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:aa1130d137b28d916ed3a8e296d48abd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for desired velocity reference.  <br /></td></tr>
<tr class="separator:aa1130d137b28d916ed3a8e296d48abd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54438b5a16f8f6814dd97672a597781f" id="r_a54438b5a16f8f6814dd97672a597781f"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; mrs_msgs::srv::TrajectoryReferenceSrv::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a54438b5a16f8f6814dd97672a597781f">setTrajectoryReference</a> (const std::shared_ptr&lt; mrs_msgs::srv::TrajectoryReferenceSrv::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:a54438b5a16f8f6814dd97672a597781f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for a flight along a given trajectory.  <br /></td></tr>
<tr class="separator:a54438b5a16f8f6814dd97672a597781f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dab27bf6bea8241611523c013fcd0cf" id="r_a2dab27bf6bea8241611523c013fcd0cf"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a2dab27bf6bea8241611523c013fcd0cf">hover</a> (const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:a2dab27bf6bea8241611523c013fcd0cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for stopping the motion of the UAV.  <br /></td></tr>
<tr class="separator:a2dab27bf6bea8241611523c013fcd0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1528b72c99c3e9e7bd362e90fa8c0d" id="r_a3d1528b72c99c3e9e7bd362e90fa8c0d"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a3d1528b72c99c3e9e7bd362e90fa8c0d">gotoTrajectoryStart</a> (const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:a3d1528b72c99c3e9e7bd362e90fa8c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to goto to the first trajectory coordinate.  <br /></td></tr>
<tr class="separator:a3d1528b72c99c3e9e7bd362e90fa8c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab544ac51dd1062c60dc27e876d13b2ef" id="r_ab544ac51dd1062c60dc27e876d13b2ef"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#ab544ac51dd1062c60dc27e876d13b2ef">startTrajectoryTracking</a> (const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:ab544ac51dd1062c60dc27e876d13b2ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to start tracking of the pre-loaded trajectory.  <br /></td></tr>
<tr class="separator:ab544ac51dd1062c60dc27e876d13b2ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb8b46ef4e5236ea5516c5e72dc5a93" id="r_addb8b46ef4e5236ea5516c5e72dc5a93"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#addb8b46ef4e5236ea5516c5e72dc5a93">stopTrajectoryTracking</a> (const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:addb8b46ef4e5236ea5516c5e72dc5a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to stop tracking of the pre-loaded trajectory. The <a class="el" href="classmrs__uav__managers_1_1Tracker.html#a2dab27bf6bea8241611523c013fcd0cf" title="Request for stopping the motion of the UAV.">hover()</a> routine will be engaged, thus it should be implemented by the tracker.  <br /></td></tr>
<tr class="separator:addb8b46ef4e5236ea5516c5e72dc5a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b939ffce4ea64f11ea656682223846" id="r_a29b939ffce4ea64f11ea656682223846"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a29b939ffce4ea64f11ea656682223846">resumeTrajectoryTracking</a> (const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:a29b939ffce4ea64f11ea656682223846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request to resume the previously stopped trajectory tracking.  <br /></td></tr>
<tr class="separator:a29b939ffce4ea64f11ea656682223846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017c66eca1a0e444d0ab8a7b22a287aa" id="r_a017c66eca1a0e444d0ab8a7b22a287aa"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; std_srvs::srv::SetBool::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a017c66eca1a0e444d0ab8a7b22a287aa">enableCallbacks</a> (const std::shared_ptr&lt; std_srvs::srv::SetBool::Request &gt; &amp;request)=0</td></tr>
<tr class="memdesc:a017c66eca1a0e444d0ab8a7b22a287aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for enabling/disabling callbacks.  <br /></td></tr>
<tr class="separator:a017c66eca1a0e444d0ab8a7b22a287aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e49d94d5f18af0c92832f932c83c3f2" id="r_a0e49d94d5f18af0c92832f932c83c3f2"><td class="memItemLeft" align="right" valign="top">virtual const std::shared_ptr&lt; mrs_msgs::srv::DynamicsConstraintsSrv::Response &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmrs__uav__managers_1_1Tracker.html#a0e49d94d5f18af0c92832f932c83c3f2">setConstraints</a> (const std::shared_ptr&lt; mrs_msgs::srv::DynamicsConstraintsSrv::Request &gt; &amp;constraints)=0</td></tr>
<tr class="memdesc:a0e49d94d5f18af0c92832f932c83c3f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for setting new constraints.  <br /></td></tr>
<tr class="separator:a0e49d94d5f18af0c92832f932c83c3f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2df1428fcef8ff35ba9c495aa5b682c0" name="a2df1428fcef8ff35ba9c495aa5b682c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2df1428fcef8ff35ba9c495aa5b682c0">&#9670;&#160;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::tuple&lt; bool, std::string &gt; mrs_uav_managers::Tracker::activate </td>
          <td>(</td>
          <td class="paramtype">const std::optional&lt; mrs_msgs::msg::TrackerCommand &gt; &amp;&#160;</td>
          <td class="paramname"><em>last_tracker_cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is called before the trackers output will be required and used. Should not take much time (within miliseconds). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">last_tracker_cmd</td><td>the last command produced by the last active tracker. Should be used as an initial condition to maintain a smooth reference.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if success and message </dd></dl>

</div>
</div>
<a id="a017c66eca1a0e444d0ab8a7b22a287aa" name="a017c66eca1a0e444d0ab8a7b22a287aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017c66eca1a0e444d0ab8a7b22a287aa">&#9670;&#160;</a></span>enableCallbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::SetBool::Response &gt; mrs_uav_managers::Tracker::enableCallbacks </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std_srvs::srv::SetBool::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for enabling/disabling callbacks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>service request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="ac220afae062c5f6e394ee314cfd51e69" name="ac220afae062c5f6e394ee314cfd51e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac220afae062c5f6e394ee314cfd51e69">&#9670;&#160;</a></span>getStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const mrs_msgs::msg::TrackerStatus mrs_uav_managers::Tracker::getStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A request for the tracker's status. </p>
<dl class="section return"><dt>Returns</dt><dd>the tracker's status </dd></dl>

</div>
</div>
<a id="a3d1528b72c99c3e9e7bd362e90fa8c0d" name="a3d1528b72c99c3e9e7bd362e90fa8c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1528b72c99c3e9e7bd362e90fa8c0d">&#9670;&#160;</a></span>gotoTrajectoryStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt; mrs_uav_managers::Tracker::gotoTrajectoryStart </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request to goto to the first trajectory coordinate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trigger</td><td>service request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a2dab27bf6bea8241611523c013fcd0cf" name="a2dab27bf6bea8241611523c013fcd0cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dab27bf6bea8241611523c013fcd0cf">&#9670;&#160;</a></span>hover()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt; mrs_uav_managers::Tracker::hover </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for stopping the motion of the UAV. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trigger</td><td>service request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a816abfb94a23ac62cbc9b39a4e122b8a" name="a816abfb94a23ac62cbc9b39a4e122b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816abfb94a23ac62cbc9b39a4e122b8a">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mrs_uav_managers::Tracker::initialize </td>
          <td>(</td>
          <td class="paramtype">const rclcpp::Node::SharedPtr &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structmrs__uav__managers_1_1control__manager_1_1CommonHandlers__t.html">mrs_uav_managers::control_manager::CommonHandlers_t</a> &gt;&#160;</td>
          <td class="paramname"><em>common_handlers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structmrs__uav__managers_1_1control__manager_1_1PrivateHandlers__t.html">mrs_uav_managers::control_manager::PrivateHandlers_t</a> &gt;&#160;</td>
          <td class="paramname"><em>private_handlers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is called once for every tracker. The runtime is not limited. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>the node handle of the ControlManager </td></tr>
    <tr><td class="paramname">uav_name</td><td>the UAV name (e.g., "uav1") </td></tr>
    <tr><td class="paramname">common_handlers</td><td>handlers shared between trackers and controllers </td></tr>
    <tr><td class="paramname">private_handlers</td><td>handlers provided individually to each tracker</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if success </dd></dl>

</div>
</div>
<a id="a747c8f22af56c28ef077ca48730370b2" name="a747c8f22af56c28ef077ca48730370b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747c8f22af56c28ef077ca48730370b2">&#9670;&#160;</a></span>resetStatic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool mrs_uav_managers::Tracker::resetStatic </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for reseting the tracker's states given the UAV is static. </p>
<dl class="section return"><dt>Returns</dt><dd>true if success </dd></dl>

</div>
</div>
<a id="a29b939ffce4ea64f11ea656682223846" name="a29b939ffce4ea64f11ea656682223846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b939ffce4ea64f11ea656682223846">&#9670;&#160;</a></span>resumeTrajectoryTracking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt; mrs_uav_managers::Tracker::resumeTrajectoryTracking </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request to resume the previously stopped trajectory tracking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trigger</td><td>service request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a0e49d94d5f18af0c92832f932c83c3f2" name="a0e49d94d5f18af0c92832f932c83c3f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e49d94d5f18af0c92832f932c83c3f2">&#9670;&#160;</a></span>setConstraints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; mrs_msgs::srv::DynamicsConstraintsSrv::Response &gt; mrs_uav_managers::Tracker::setConstraints </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; mrs_msgs::srv::DynamicsConstraintsSrv::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>constraints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for setting new constraints. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">constraints</td><td>to be set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a6972c0a72eecf3754bc845a6a0e39c17" name="a6972c0a72eecf3754bc845a6a0e39c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6972c0a72eecf3754bc845a6a0e39c17">&#9670;&#160;</a></span>setReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; mrs_msgs::srv::ReferenceSrv::Response &gt; mrs_uav_managers::Tracker::setReference </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; mrs_msgs::srv::ReferenceSrv::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for a flight to a given coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>the reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a54438b5a16f8f6814dd97672a597781f" name="a54438b5a16f8f6814dd97672a597781f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54438b5a16f8f6814dd97672a597781f">&#9670;&#160;</a></span>setTrajectoryReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; mrs_msgs::srv::TrajectoryReferenceSrv::Response &gt; mrs_uav_managers::Tracker::setTrajectoryReference </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; mrs_msgs::srv::TrajectoryReferenceSrv::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for a flight along a given trajectory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>the reference trajectory</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="aa1130d137b28d916ed3a8e296d48abd9" name="aa1130d137b28d916ed3a8e296d48abd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1130d137b28d916ed3a8e296d48abd9">&#9670;&#160;</a></span>setVelocityReference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; mrs_msgs::srv::VelocityReferenceSrv::Response &gt; mrs_uav_managers::Tracker::setVelocityReference </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; mrs_msgs::srv::VelocityReferenceSrv::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request for desired velocity reference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>the reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="ab544ac51dd1062c60dc27e876d13b2ef" name="ab544ac51dd1062c60dc27e876d13b2ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab544ac51dd1062c60dc27e876d13b2ef">&#9670;&#160;</a></span>startTrajectoryTracking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt; mrs_uav_managers::Tracker::startTrajectoryTracking </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request to start tracking of the pre-loaded trajectory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trigger</td><td>service request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="addb8b46ef4e5236ea5516c5e72dc5a93" name="addb8b46ef4e5236ea5516c5e72dc5a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb8b46ef4e5236ea5516c5e72dc5a93">&#9670;&#160;</a></span>stopTrajectoryTracking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt; mrs_uav_managers::Tracker::stopTrajectoryTracking </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; std_srvs::srv::Trigger::Request &gt; &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request to stop tracking of the pre-loaded trajectory. The <a class="el" href="classmrs__uav__managers_1_1Tracker.html#a2dab27bf6bea8241611523c013fcd0cf" title="Request for stopping the motion of the UAV.">hover()</a> routine will be engaged, thus it should be implemented by the tracker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trigger</td><td>service request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a75c88b4eeabe95733571caaffdedcc34" name="a75c88b4eeabe95733571caaffdedcc34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75c88b4eeabe95733571caaffdedcc34">&#9670;&#160;</a></span>switchOdometrySource()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const std::shared_ptr&lt; std_srvs::srv::Trigger::Response &gt; mrs_uav_managers::Tracker::switchOdometrySource </td>
          <td>(</td>
          <td class="paramtype">const mrs_msgs::msg::UavState &amp;&#160;</td>
          <td class="paramname"><em>new_uav_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is called during every switch of reference frames of the UAV state estimate. The tracker should recalculate its internal states from old the frame to the new one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_uav_state</td><td>the new UavState which will come in the next <a class="el" href="classmrs__uav__managers_1_1Tracker.html#a08141a29899f376b9ce149b9461d6c2c" title="The most important routine. It is called with every state estimator update and it should produce a ne...">update()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a service response </dd></dl>

</div>
</div>
<a id="a08141a29899f376b9ce149b9461d6c2c" name="a08141a29899f376b9ce149b9461d6c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08141a29899f376b9ce149b9461d6c2c">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::optional&lt; mrs_msgs::msg::TrackerCommand &gt; mrs_uav_managers::Tracker::update </td>
          <td>(</td>
          <td class="paramtype">const mrs_msgs::msg::UavState &amp;&#160;</td>
          <td class="paramname"><em>uav_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmrs__uav__managers_1_1Controller_1_1ControlOutput.html">Controller::ControlOutput</a> &amp;&#160;</td>
          <td class="paramname"><em>last_control_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The most important routine. It is called with every state estimator update and it should produce a new reference for the controllers. The run time should be as short as possible (&lt;= 1 ms). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uav_state</td><td>the latest UAV state estimate </td></tr>
    <tr><td class="paramname">last_attitude_cmd</td><td>the last controller's output command (may be useful)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new reference for the controllers </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/mrs_uav_managers/<a class="el" href="tracker_8h_source.html">tracker.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>mrs_uav_managers</b></li><li class="navelem"><a class="el" href="classmrs__uav__managers_1_1Tracker.html">Tracker</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
